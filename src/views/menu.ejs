<%-include ('partials/header.ejs')%>
<div class ="row" id="barra_de_busqueda">
    <div class="col">
        <input type="text" class="form-control" id="myInput0" onkeyup="myFunction()" placeholder="Busca por nombre">
    </div>
    <div class="col">
        <input type="text" class="form-control" id="myInput1" onkeyup="myFunction()" placeholder="Buscar por Serie">
    </div> 
    <div class = "col">
        <a href="/Baja" class="btn btn-success">Baja</a>
        <a href="/Reparacion" class="btn btn-success">En reparacion</a>
        <a href="/Reportes" class="btn btn-success">Reportes</a>
    </div>
</div>

<div class="row">    
    <div class="col">
      <table id="myTable" class="table table-striped table-hover">        
        <tr class="header">    
                        <th>NOMBRE</th>
                        <th>MARCA</th>
                        <th>MODELO</th>
                        <th>#SERIE</th>
                        <th>NNS</th>
                        <th>GARANTIA</th>
                        <th>PROVEDOR</th>
                        <th>CONTACTO</th> 
                        <th>AREA</th>
                        <th>STATUS</th>
                        <th></th>                     
          </tr>            
                       <% for(var i = 0 ;i < equipos.length; i++){ %> 
          <tr> 
                        <td><%= equipos[i].NOMBRE%></td>
                        <td><%= equipos[i].MARCA%></td>
                        <td><%= equipos[i].MODELO%></td>
                        <td><%= equipos[i].NS%></td>
                        <td><%= equipos[i].NNS%></td>
                        <td><%= equipos[i].GARANTIA%></td>
                        <td><%= equipos[i].PROVEDOR%></td>
                        <td><%= equipos[i].CONTACTO%></td>
                        <td><%= equipos[i].AREA%></td>
                        <td><%= equipos[i].STATUS%></td>
                        <td> 
                        <a href="/Informacion/<%= equipos[i]._id%>" class= "btn btn-info">Datos</a>
                        </td>
            </tr>
                        <% } %>                
      </table>
    </div>
  </div>  
</div> 














<!--  funcion para filtrar en tiempo real datos del listado-->
<script>
    
function myFunction() {

// Declara las variables a utilizar como las entradas (inputs), las palabras a buscar(filros)
// La variable iterable
// La tabla a trabajar
// El arreglo que usaas apra modificar los valores (tr)

        var input, input1, filter, filter1, i, txtValue, txtValue1, table, tr, td, td1;
  
        table = document.getElementById("myTable");
        tr = table.getElementsByTagName("tr");
        input = document.getElementById("myInput0");
        filter = input.value.toUpperCase();
        input1 = document.getElementById("myInput1");
        filter1 = input1.value.toUpperCase();
        
        
    for (i = 0; i < tr.length; i++){
// Seleccionamos la columna a iterar
        td = tr[i].getElementsByTagName("td")[0];
        td1 = tr[i].getElementsByTagName("td")[3];
// Comprobamos que existan valores
        if(td && td1){
            
// Aseguramos un valor operable en cada columna              
        txtValue = td.textContent || td.innerText;
        txtValue1 = td1.textContent || td1.innerText;

//comparamos el valor txtvalue y txtvalue1 con nuestros filtros
            if( (txtValue.toUpperCase().indexOf(filter) > -1) && (txtValue1.toUpperCase().indexOf(filter1) > -1) ){
                tr[i].style.display = "";
            } else {
                tr[i].style.display = "none";
                }         
        }
    }
}
</script>


<%-include ('partials/footer.ejs')%>